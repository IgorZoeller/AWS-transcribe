 So from within your EC two instance, you can access the EC two metadata information from the metadata service via a special endpoint. And, you know, I've seen the initialization MDS, but there's also I MDS, which would be the instance metadata. So just understand, I'm using a variation there. But there are two versions of the metadata service, we have instance metadata service version one, which is a simple request and response method. And version two, which is basically the same thing, except you're passing along a token. So it has an additional step. Why are there two versions? Well, at one point, there was a very large breach to a very famous account, I think it was capital one, I think that's what it was. And it exploited the fact that instance metadata was not protected. And so by introducing a token, it could protect against open firewalls, reverse proxies, and SSRF vulnerabilities. And specifically that capital one, which is a big bank in the States, not here in Canada. The exploit, I think was open firewall, open firewall rules where you had a previous AWS employee that worked for the s3 team who had left and knew how to make use of that exploit. So this version two closes that off. And generally, when you're launching up a new EC two instance, even though you can use either or version, it's going to force you for version two unless you explicitly change your settings. But there are two endpoints that you can use, we have the ipv4 one and the ipv6 one. In prior exams, they would actually ask you to remember the ipv4 address. I didn't see it on the new exam. I don't know they're still doing that maybe they decided against it because now there's the ipv6 one. But you might want to memorize that one because I remember it as an exam question. And ipv6 obviously has the square braces because that's what you have to do. But I don't think you have to memorize it. Let's take a look at how we would actually go about retrieving data. So if we're using imds version one, we could use a curl. And you'll notice we're just passing along to HTTP totally works fine. And then you have IDMS version two. And all it's doing is doing a separate curl. I know this looks complicated, but it's not. It's doing a separate curl over here to get the API token. And that's saying the lifetime of that token. And then it's passing that token along to the second request here as a header to the same endpoint. Okay. Now, if your machine does not have curl, you can also use w get they serve the same purpose, the syntax is a little bit different as you have to provide some flags and some formatting differences. But these services curled in w get work the same way, you should know how to use both of them because one is not always available. It's usually curl, it's not around. So instance metadata is grouped into categories. And there are there are over 60 plus categories, I could not fit them all on here. And there's no reason to really put them all on here. But the point is, is that categories is basically just addition, like is specific endpoints. And you'd have to use specific endpoints anyway to get anything useful, because if you hit the main one, all it's going to do is give you the list of categories. But the idea is that you're going to append that to the end of your URL. And in this case, if I was using the default security group, it would just return back that value. So the idea is that you can get information about your EC two instance that you can then programmatically use for whatever you would need to do. Notice here that we've broken this up into two steps, because you don't really have to join them in a separate step. Even the last one, I probably would have used x args, we talked about that in the AWS CLI tutorial how you can use x args to pass along a single line. But yeah, that is a more concrete one. This one, I find that I get more reliable results when utilizing it. There are configurator configuration options, you can configure around metadata, so you can enforce the use of tokens, you can turn off the endpoint altogether, you can specify the amount of network cops allowed, it says a load, but there's supposed to be a W here. So I apologize. And so if you do this in the management console, it's displayed differently, as opposed to here, it just looks like you pick version one or two. But really, what you're doing is you're saying, enforce the token or do not have a token, if you're forcing it, then you're using version two, if you receive a 401, when attempting to use, I said use the token, but I meant to say like, if you're using version, I MD, I am the version two or just using curl, that's likely that tokens are required, you must use IMD version two. So just understand that I wrote two here, it's supposed to be one. But just, I don't want to record this whole video just because it's one mistake. But the point is, is that if you get a 401, you're probably using the plain curl and you need to use the one with the token. Okay, but there you go.